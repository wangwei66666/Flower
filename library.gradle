apply plugin: 'com.android.library'
apply plugin: 'kotlin-android'
apply plugin: 'kotlin-android-extensions'
apply plugin: 'kotlin-kapt'

def androidId = rootProject.ext.android

android {
    compileSdkVersion androidId.compileSdkVersion
    buildToolsVersion androidId.buildToolsVersion


    defaultConfig {
        minSdkVersion androidId.minSdkVersion
        targetSdkVersion androidId.targetSdkVersion
        versionCode androidId.versionCode
        versionName androidId.versionName
        testInstrumentationRunner androidId.testInstrumentationRunner
        consumerProguardFiles 'consumer-rules.pro'

        multiDexEnabled true
        multiDexKeepFile file('multidex-config.pro')

        javaCompileOptions {
            annotationProcessorOptions {
                arguments = [AROUTER_MODULE_NAME: project.getName()]
            }
        }
    }

    buildTypes {
        release {
            minifyEnabled false
            proguardFiles getDefaultProguardFile('proguard-android-optimize.txt'), 'proguard-rules.pro'
        }
    }

    publishNonDefault true
    flavorDimensions "env", "role"
    productFlavors {
        // 测试环境
        daily {
            dimension "env"
            buildConfigField('boolean', 'DEV_DEBUG', 'true')
            buildConfigField('String', 'DEV_CHANNEL', '"default"')
            buildConfigField('String', 'CHANNEL', '"trucker_daliy"')
            buildConfigField('String', 'MODEL', '"app_trucker_daliy"')
            buildConfigField('String', 'BASE_URL', '"http://test.api.kachexiongdi.com/"')
            buildConfigField('String', 'ENVIRONMENT', '"debug"')
            manifestPlaceholders = [
                    ali_push_key   : "30803031",
                    ali_push_secret: "ebdd08d65636d53e83c5e217212913b9",
                    hotfixAppSecret: "ebdd08d65636d53e83c5e217212913b9",
                    hotfix_app_id  : "30803031-1",
                    hotfixRsaSecret: "MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC1vxohmJRuMCtH4JeXHbILW9B5ReWsnBbiMIMxmpeJg2A3FIsdXR+BttebHc8JlmbkfmS2KSj8hPuxzOY9OCxrTFZoQzYGkLdkeMLtZLrRNhe/A80YlasibywMHVjPUOidmF8yTYVvtR6woChGUepjshKPx1NnZ8SrBpGLi4/ZtQxU86Xku4JObkZvmT6URgf5C9xju1dTKrTmfd3foQNEqQ8qfuaoL4hWSs3xiUmGYkrAcKRHnREDhelNzDk4nWf5llPfNBZQ6pOFXb5pEDdFYz4V+kcPXZUf8K/TG064kmhWyg3anPCHjHJJWItnbIKWqm/f2cGceQdHSHodk0WfAgMBAAECggEBAIDjARkKJ1js+ASFFXupJ3Y+ql0WYIZEO0Y0uRUYWJbAgB8PhohQXeOTUttCDGz0KAuqRqmYDuTlOckhUbXgfD+rZyuRXmLRhfzOVw4a/REYl0Zy36OroC1PQaFlvnFnI09/myMFLrfFbfo72dPki6AfzGICLPeL80CF6/lWA7GTK3KfBUydt91Ml2yoDSK7YdcAsobFSGmfxAyw7Jq2UtmToCJGNiP4vUe9xWXCEsyZNkZLxFAgiMCKr7N0tnKAhpKPgoS7KRwpRf+7iGNqzMjmqP/TRjO0p0ngti7igVTFqgpe6MwlEfpRip+zT2loEnLRVelp5gkWuQh8VVA+0qECgYEA8C/zJWfbqVOdYjwopg4e5caK6F2zd/sjxExzh39Yyifxts27QO0pax6cB7t3C3kVR0vZ86VcLxkq8cEUGv0lLPn4ASpJHVh74H9CUm61lOAzqtQX/t3F8BrUS0qKewA/40ACaDW4wPf93fHKF1rqJLdIK0IWIm5ACNfR756y140CgYEAwbY1AbZuAEUQc8hGWVGDcryA8d4FJRV8oVjRVMqvTmsjvMy+k9mRT5qjOQbyIy3diIlmAUZT3rb6TrMvs7rNpWDWi4c2YYUqUcPjz2Vk7C9c0f5JGSi9z6O/ZD/PM29PmJZ/zWstTRw3rTXV44gBoR+AL0X21EkN87WyQyDAYNsCgYEAuBl4vE4b/3C4rIhB++3M3wBMjojru+ZCZv7WeqAwtVrimeSdR8nAunuOyxp0x9V6atiH6Ynw26Tl1sHQoFMygIPlBTedLSIaaVwBwN9czQ0AbUr+TXs9camO2Vr8RAVP8uaoMaojv70V2F2xMi+cUqItbgLMpn1tFZofLxSsLi0CgYBsAOc0+T4DsH4nz/ZJPoWHp0pNkHhV4NEINLkiCZAMrPfUAGQRkzDNrW5sEU9YBe6KffD9rPR+LI8K6iUilHisSH3WdaEAZnrd89ZEgEfw18ds3dZrzKdn6eiAQIOKLfm3HdJL+gHcCGuSi32hyub9qs6RjPS+D61TwG6PtucMGQKBgE6826/TDof5YpbLgiFLSf+vmWo2RFXlAY8U1vzUPUwYbT3eLBWAMrsvnUZGbrlFGcD3rSB8cxb7m/sQrkwJe5GUAsbwv5Mf4VEzqBwHAfAEm3uSICSyejmmqxEC3j9BiAL5/VwAYl4jpPlF8HraObUJXpUQLTJagzKEBDBcRtTj",

            ]
        }
        // 预发布环境
        preview {
            dimension "env"
            buildConfigField('boolean', 'DEV_DEBUG', 'false')
            buildConfigField('String', 'DEV_CHANNEL', '"Default"')
            buildConfigField('String', 'CHANNEL', '"trucker_daliy"')
            buildConfigField('String', 'MODEL', '"app_trucker_daliy"')
            buildConfigField('String', 'BASE_URL', '"http://pre.api.kachexiongdi.com/"')
            buildConfigField('String', 'ENVIRONMENT', '"debug"')
            manifestPlaceholders = [
                    ali_push_key   : "30803031",
                    ali_push_secret: "ebdd08d65636d53e83c5e217212913b9",
                    hotfixAppSecret: "ebdd08d65636d53e83c5e217212913b9",
                    hotfix_app_id  : "30803031-1",
                    hotfixRsaSecret: "MIIEvgIBADANBgkqhkiG9w0BAQEFAASCBKgwggSkAgEAAoIBAQC1vxohmJRuMCtH4JeXHbILW9B5ReWsnBbiMIMxmpeJg2A3FIsdXR+BttebHc8JlmbkfmS2KSj8hPuxzOY9OCxrTFZoQzYGkLdkeMLtZLrRNhe/A80YlasibywMHVjPUOidmF8yTYVvtR6woChGUepjshKPx1NnZ8SrBpGLi4/ZtQxU86Xku4JObkZvmT6URgf5C9xju1dTKrTmfd3foQNEqQ8qfuaoL4hWSs3xiUmGYkrAcKRHnREDhelNzDk4nWf5llPfNBZQ6pOFXb5pEDdFYz4V+kcPXZUf8K/TG064kmhWyg3anPCHjHJJWItnbIKWqm/f2cGceQdHSHodk0WfAgMBAAECggEBAIDjARkKJ1js+ASFFXupJ3Y+ql0WYIZEO0Y0uRUYWJbAgB8PhohQXeOTUttCDGz0KAuqRqmYDuTlOckhUbXgfD+rZyuRXmLRhfzOVw4a/REYl0Zy36OroC1PQaFlvnFnI09/myMFLrfFbfo72dPki6AfzGICLPeL80CF6/lWA7GTK3KfBUydt91Ml2yoDSK7YdcAsobFSGmfxAyw7Jq2UtmToCJGNiP4vUe9xWXCEsyZNkZLxFAgiMCKr7N0tnKAhpKPgoS7KRwpRf+7iGNqzMjmqP/TRjO0p0ngti7igVTFqgpe6MwlEfpRip+zT2loEnLRVelp5gkWuQh8VVA+0qECgYEA8C/zJWfbqVOdYjwopg4e5caK6F2zd/sjxExzh39Yyifxts27QO0pax6cB7t3C3kVR0vZ86VcLxkq8cEUGv0lLPn4ASpJHVh74H9CUm61lOAzqtQX/t3F8BrUS0qKewA/40ACaDW4wPf93fHKF1rqJLdIK0IWIm5ACNfR756y140CgYEAwbY1AbZuAEUQc8hGWVGDcryA8d4FJRV8oVjRVMqvTmsjvMy+k9mRT5qjOQbyIy3diIlmAUZT3rb6TrMvs7rNpWDWi4c2YYUqUcPjz2Vk7C9c0f5JGSi9z6O/ZD/PM29PmJZ/zWstTRw3rTXV44gBoR+AL0X21EkN87WyQyDAYNsCgYEAuBl4vE4b/3C4rIhB++3M3wBMjojru+ZCZv7WeqAwtVrimeSdR8nAunuOyxp0x9V6atiH6Ynw26Tl1sHQoFMygIPlBTedLSIaaVwBwN9czQ0AbUr+TXs9camO2Vr8RAVP8uaoMaojv70V2F2xMi+cUqItbgLMpn1tFZofLxSsLi0CgYBsAOc0+T4DsH4nz/ZJPoWHp0pNkHhV4NEINLkiCZAMrPfUAGQRkzDNrW5sEU9YBe6KffD9rPR+LI8K6iUilHisSH3WdaEAZnrd89ZEgEfw18ds3dZrzKdn6eiAQIOKLfm3HdJL+gHcCGuSi32hyub9qs6RjPS+D61TwG6PtucMGQKBgE6826/TDof5YpbLgiFLSf+vmWo2RFXlAY8U1vzUPUwYbT3eLBWAMrsvnUZGbrlFGcD3rSB8cxb7m/sQrkwJe5GUAsbwv5Mf4VEzqBwHAfAEm3uSICSyejmmqxEC3j9BiAL5/VwAYl4jpPlF8HraObUJXpUQLTJagzKEBDBcRtTj",
            ]
        }
        // 生产环境
        online {
            dimension "env"
            buildConfigField('boolean', 'DEV_DEBUG', 'false')
            buildConfigField('String', 'DEV_CHANNEL', '"Default"')
            buildConfigField('String', 'CHANNEL', '"trucker_online"')
            buildConfigField('String', 'MODEL', '"app_trucker_online"')
            buildConfigField('String', 'BASE_URL', '"https://api2.kachexiongdi.com/"')
            buildConfigField('String', 'ENVIRONMENT', '"release"')
            manifestPlaceholders = [
                    ali_push_key   : "24687989",
                    ali_push_secret: "bb37d585b39bd70d644ed1323607f01d",
                    hotfixAppSecret: "bb37d585b39bd70d644ed1323607f01d",
                    hotfix_app_id  : "24687989-1",
                    hotfixRsaSecret: "MIIEvAIBADANBgkqhkiG9w0BAQEFAASCBKYwggSiAgEAAoIBAQDIoIL0Anp4jnNOq79mL0xdCSSLzauhYbwfbUthwbNsR8KL9rWjrUPQmBJxZayWSepglGfwlrpmXuDHiB2GrTzS31CqGcB8AdJZMaZAKjqw4DMcGt3it6yphqdW1X387x9z25UOk40hGl1shO8CrfDblUdgbggLBY/Fz8J3OAoxkSpWKYQl0BVC9QVPIuDC1WJ+O56xZJ9PYuEWUd/VXaKOCnJOuGn8snSbYG0vkytbIaostTuBWl1+l2ELO9XvEB+UiSVa/QOwyW3J7O9QYRqRBDV2VHyRC8M6nBP5MLD4IKz6OJ8fz+l8OTIA/Q3UKdupFt4+X1p9Fc1pQli11eJ/AgMBAAECggEAAXgrfV4HR5rDfXAEltsB1Cyc9+kpuKTem9xREQY6KjDcW+oSqoA6Xuy+NdZozTD9ZnevyzNPajCHtO5qSPI738+C57wIjN/2inCypwWoKGN7/Fi2B1MREKzLzPcDVTbrJA4XqWOrRPLMfF784Sgk+3a8bxhfNrVzuB8tbXIboQFL1tfmO5MocIWzHrthK0YaZrEIgHAqgiW+N4Utp24leoGS/8Dld6tsuQWNFM1RexhLtF3kMmh3MJhCxymf1eAYOAbv0AZk5/IlTWvFo+KE6SXdphSIoK/cmv5l9l/aZBA1IQOzr0JBLt23hrrWLWSnf9aPnpvz1uKn0Rs1jau3AQKBgQD9nYwHyQe16J5CQKV33I/TERVBi5w+FHav217+B6CdqY5IUTmKVIawE2m6DCtAyrl/CL2/Z17NzQJG+04T6jo3R7PmxUqPobnEa1tO2yl/7P4VgRtMtFXc3NMM/nUJqBB0skhyh680yig5zf9BC5zw8ep4jFWzh+kODYGFY3XHswKBgQDKg2vYYE7DykPAsWxlWdwiM9n+fwbO7f0Qjnin4Qt3vpcYNybBfQdKsWrpWZfD8Ze9/LcvJEvGmEaAxQwor4ofs67uEmMGAsRURGVT10P60Xn3dA81nHMTxtmVgCotweCmkAdEnX5WOy+xj5kMqSxw2ldaZ5lptfo9WiOsc9UUBQKBgBLlcTCHTvbDzT7ceDe1DFZKmI3YrByIA8vYiXxd7x6wKnTC8ImZAKwP1jnRfEuIj0eizBh9yDeHRdsqEEg1lH7X7dSM8KBBCYlUAmqes7nfW5MYmoMdkKQzI9p8/xVoG0nGmtVFvM0vHs4nxhP/nILrU3AF7MDCqJ+ua+8XWQg3AoGAKe3V6WHfTPhW2NGjUMSvKEG2E9Q3E6cAq2nkH1Yf6rYCUJgypQL+/H8JVLEhFAe0VDi7sL4CFmc2ybiCkPXvUisAv/f8mqT+Azh6Bkbeo1K1vv8/muj+hoy4RhTYJssqeTH+3z0AiFgOwuOpW463TdJXHbevcsyjuAousqj06AUCgYBjMghW0IBUGR1hKVzK0EpqyN3tp51kNLHCqKPDNAI3yAAhGi7uCnUgihIA/jc+2VJEqHPnxrTyvULv7i7DAlCmY6sihszq2kbPedFM7xw6lqjCiCY83dCIoicuplYfHO1PXln7RdHFxmgXZsLx4z/KA4ZlsIajpXdi1K3NJyjdYg==",
            ]
        }

        trucker {
            dimension "role"
//            if (!isModule.toBoolean()) {
//                applicationId "com.kachexiongdi.trucker"
//            }
            //配置矢量图的参数
            vectorDrawables {
                //如果 minSdkVersion 小于 21，只生成mdpi的png
                generatedDensities 'mdpi'
                //设置为 true，会忽略 generatedDensities ，会加入svg兼容包，不会再产生png
                useSupportLibrary true
            }
            //公共参数
            buildConfigField('String', 'BUILD_ROLE', '"trucker"')
            buildConfigField('String', 'BUILD_CHANNEL', '"trucker"')
            buildConfigField('String', 'NOTIFICATION_CHANNEL_ID', '"trucker_notification_id"')
            buildConfigField('String', 'NOTIFICATION_CHANNEL_NAME', '"trucker_notification_name"')
            buildConfigField('long', 'BAIDU_TRACE_ID', "117308")
            buildConfigField('String', 'XIAO_Mi_ID', '"2882303761517534134"')
            buildConfigField('String', 'XIAO_Mi_AK', '"5131753485134"')
            buildConfigField('String', 'ALIYUN_NUMBER_AUTH_KEY', '"4Y4ZjztOYy2xuNAHMug4BPYNJn/XtccTH7BxAEQmq8c3udMi9WFd8BiEufIq94pFCT+X0/QIL4ZF9IO79LDVBD25eSotklf36GOOXr+H7bFo/sTy7Pw3egv2TYHtVaN7Nj8vzfOZlU7lIoBbgPYduMA8HP1DZiQdsWlQyTio2fVTIdI9wEcJT0LHEtSBsDKZnv+IQQs5UQhVMib2r/zFrO/U3yumEcchwlNmElAMQih6+rVF179mVlNDx1t1At6DfCP/wzvzCnbGFhhTFjH0xTaFrpXcKOYgGdW828P18g8="')
            buildConfigField('String', 'ALIYUN_LOG_KEY', '"24687989"')
            buildConfigField('String', 'ALIYUN_LOG_SECRET_KEY', '"bb37d585b39bd70d644ed1323607f01d"')
            buildConfigField('String', 'ALIYUN_LOG_RSASECRET_KEY', '"MIGfMA0GCSqGSIb3DQEBAQUAA4GNADCBiQKBgQCPnhuyWaE/FtJncUdfCb4ULsoMWaCkK2A1ciaLHd5Ai2/ZnLZWlnb4gkqG5Tt46vGWbSMSXVQ1CiVYIbR+nT4pezJ4WjC2FVi+cl+aPr9P0FxbtL1QHWiMmWZ5n81QpBxA4CuqHUytma3xlpCkIg3T3WQPBKVqfoN9mY+lLez0jQIDAQAB"')
            buildConfigField('String', 'QUPAI_APPKEY', '"20dfb6df92e29d3"')
            buildConfigField('String', 'QUPAI_APPSECRET', '"0aa07c727eae4822a8a6063b3fb98e6e"')
            buildConfigField('String', 'QUPAI_SPACENAME', '"trucker"')

//            //省平台测试-介休
//            buildConfigField('String', 'APP_SECURITY', '"f1a3b293273b4c54ba448ff8f2bf29944928438ebadb45558630f76197cf7946"')
//            buildConfigField('String', 'ENTERPRISE_SENDER_CODE', '"14102263"')
            //省平台正式-卡车司机
            buildConfigField('String', 'APP_SECURITY', '"ddc7bee33f394db38a0e4efa6881d1ba4e96fad353e840f787072b7dfd1f9bfa"')
            buildConfigField('String', 'ENTERPRISE_SENDER_CODE', '"14102377"')
            buildConfigField('String', 'WXPAY_APP_ID', '"wxd64b0f5d1778c0fb"')

            //不同风味的差异化配置
            manifestPlaceholders = [app_icon      : "@mipmap/app_icon_trucker",
                                    app_id        : "com.kachexiongdi.trucker",
                                    app_name      : "方向物流",
                                    desktop_name  : "方向物流",
                                    umeng_appkey  : "583e9adc6e27a42c62001989",
                                    baidu_ak      : "myYdxUqL4FOQWYqqLFA0iKWRCr8jh1Wv",
                                    loginActAction: "com.kachexiongdi.action.login.trucker",
                                    hw_appid      : "10756344",
                                    vivo_appid    : "100071828",
                                    vivo_appkey   : "aaa265896ee101f2578761eb753c825b",
                                    amap_key       : "81075ebe34de877094087a6cc5bf1cbf"
            ]
            //忽略在 Library 中的渠道设置v
            missingDimensionStrategy 'env', 'daily', 'online'
            missingDimensionStrategy 'role', 'trucker'
        }
    }

    testOptions {
        unitTests.returnDefaultValues = true
    }


    compileOptions {
        sourceCompatibility = 1.8
        targetCompatibility = 1.8
    }
}

kapt {
    arguments {
        arg("AROUTER_MODULE_NAME", project.getName())
    }
}

dependencies {

}
